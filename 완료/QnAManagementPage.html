<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>문의글 관리 (검색버튼 색상 통일)</title>
  <style>
  @font-face{font-family:'Gooorm Sans';src:url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/gooorm-sans-400.woff2') format('woff2');font-weight:400;font-style:normal;font-display:swap}
  @font-face{font-family:'Gooorm Sans';src:url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/gooorm-sans-500.woff2') format('woff2');font-weight:500;font-style:normal;font-display:swap}
  @font-face{font-family:'Gooorm Sans';src:url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/gooorm-sans-700.woff2') format('woff2');font-weight:700;font-style:normal;font-display:swap}
  :root{
    --navy:#000777; --ink:#0f172a; --muted:#6b7280; --paper:#ffffff;
    --panel:#f5f6f8; --line:#e6e8ee; --softline:#eef1f5; --hover:#f9faff;
    --ok:#0b7d2b; --danger:#c1121f; --radius:12px; --shadow:0 1px 2px rgba(0,0,0,.03);
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--paper);color:var(--ink);font-family:"Gooorm Sans","Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,sans-serif;line-height:1.5}
  .container{width:min(1080px,94%);margin:28px auto 80px}
  h1{font-size:22px;margin:4px 0 12px}
  .card{background:#fff;border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow)}
  .scroll{max-height:420px;overflow:auto}
  table{width:100%;border-collapse:collapse;table-layout:fixed}
  thead th{background:var(--panel);font-size:12px;color:var(--muted);text-align:left;padding:10px 12px;border-bottom:1px solid var(--line);position:sticky;top:0;z-index:1}
  tbody td{padding:12px;border-bottom:1px solid var(--softline);font-size:14px;word-break:keep-all;overflow-wrap:anywhere}
  tbody tr:hover{background:var(--hover)}
  .tabs{display:flex;gap:14px;align-items:center;font-weight:800;margin:6px 2px 14px}
  .tab{cursor:pointer;color:var(--muted)} .tab.active{color:var(--navy)} .sep{color:#cfd3dd}
  .select,.input{height:34px;border:1.6px solid var(--line);border-radius:8px;padding:0 10px;background:#fff;outline:none}
  .btn{height:34px;padding:0 12px;border:1px solid var(--line);border-radius:8px;background:#eceff3;color:var(--ink);font-weight:700;cursor:pointer;transition:.15s;display:inline-flex;align-items:center;justify-content:center;text-decoration:none}
  .btn:hover{background:#dce1f5;border-color:#b9c3f0}
  .btn.primary{background:var(--navy);color:#fff;border:none}
  .btn.primary:hover{background:#001366}
  .btn.small{height:28px;padding:0 10px;border-radius:7px}
  .actions{display:flex;gap:6px;align-items:center;justify-content:center}
  .badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;font-weight:800;line-height:1}
  .badge.todo{background:#fff4e5;color:#b45309}
  .badge.done{background:#e7f5ec;color:var(--ok)}
  .center{text-align:center}
  tbody tr[role="link"]{ cursor:pointer }
  tbody tr[role="link"]:focus{ outline:1px solid var(--navy); outline-offset:-2px; border-radius: 5px;}
  </style>
</head>
<body>
  <main class="page-QnAManagement">
    <div class="container">
      <h1>관리자 문의글 관리</h1>

      <div class="topbar" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-bottom:12px">
        <div class="tabs">
          <span id="tab-new" class="tab active">새로운 문의</span>
          <span class="sep">|</span>
          <span id="tab-done" class="tab">답변 완료</span>
        </div>

        <form class="searchbar" onsubmit="return false;" style="display:flex;align-items:center;gap:8px">
          <select class="select"><option>글번호</option><option>제목</option><option>내용</option><option>작성자</option></select>
          <input class="input" placeholder="검색">
          <button class="btn primary" type="button">검색</button>
        </form>
      </div>

      <!-- 새로운 문의 -->
      <section id="newSection" class="card">
        <div class="scroll">
          <table>
            <thead>
              <tr>
                <th style="width:12%">글번호</th>
                <th style="width:16%">작성자</th>
                <th>제목</th>
                <th style="width:16%" class="center">작성일</th>
                <th style="width:10%" class="center">비밀글</th>
                <th style="width:18%" class="center">상태/답변</th>
              </tr>
            </thead>
            <tbody id="tbodyNew">
              <tr data-qid="2" data-title="환불 문의드립니다" data-member="user001" data-date="2025-10-18" data-secret="Y" tabindex="0" role="link">
                <td>2</td>
                <td>user001</td>
                <td>환불 문의드립니다</td>
                <td class="center">2025-10-18</td>
                <td class="center">Y</td>
                <td class="center">
                  <div class="actions">
                    <span class="badge todo">미답변</span>
                    <button class="btn small primary answer-btn" type="button">답변</button>
                  </div>
                </td>
              </tr>
              <tr data-qid="1" data-title="회원 탈퇴는 어디서하나요" data-member="user002" data-date="2025-10-17" data-secret="N" tabindex="0" role="link">
                <td>1</td>
                <td>user002</td>
                <td>회원 탈퇴는 어디서하나요</td>
                <td class="center">2025-10-17</td>
                <td class="center">N</td>
                <td class="center">
                  <div class="actions">
                    <span class="badge todo">미답변</span>
                    <button class="btn small primary answer-btn" type="button">답변</button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- 완료 -->
      <section id="doneSection" class="card" style="display:none">
        <div class="scroll">
          <table>
            <thead>
              <tr>
                <th style="width:12%">글번호</th>
                <th style="width:16%">작성자</th>
                <th>제목</th>
                <th style="width:16%" class="center">작성일</th>
                <th style="width:10%" class="center">비밀글</th>
                <th style="width:18%" class="center">상태</th>
              </tr>
            </thead>
            <tbody id="tbodyDone">
              <tr data-qid="9" data-title="환불 처리 완료 안내" data-member="user010" data-date="2025-10-10" data-secret="N" tabindex="0" role="link">
                <td>9</td>
                <td>user010</td>
                <td>환불 처리 완료 안내</td>
                <td class="center">2025-10-10</td>
                <td class="center">N</td>
                <td class="center"><span class="badge done">완료</span></td>
              </tr>
              <tr data-qid="8" data-title="배송 지연 문의 답변 완료" data-member="user021" data-date="2025-10-09" data-secret="N" tabindex="0" role="link">
                <td>8</td>
                <td>user021</td>
                <td>배송 지연 문의 답변 완료</td>
                <td class="center">2025-10-09</td>
                <td class="center">N</td>
                <td class="center"><span class="badge done">완료</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>
  </main>

  <script>
    const tabNew=document.getElementById('tab-new'), tabDone=document.getElementById('tab-done');
    const newSec=document.getElementById('newSection'), doneSec=document.getElementById('doneSection');
    tabNew.onclick=()=>{tabNew.classList.add('active');tabDone.classList.remove('active');newSec.style.display='block';doneSec.style.display='none'};
    tabDone.onclick=()=>{tabDone.classList.add('active');tabNew.classList.remove('active');newSec.style.display='none';doneSec.style.display='block'};

    function toDetail(row){
      const qid=row.dataset.qid||'';
      const title=encodeURIComponent(row.dataset.title||row.cells[2].textContent.trim());
      const member=encodeURIComponent(row.dataset.member||row.cells[1].textContent.trim());
      const date=encodeURIComponent(row.dataset.date||row.cells[3].textContent.trim());
      const secret=encodeURIComponent(row.dataset.secret||row.cells[4].textContent.trim());
      location.href=`admin-qna-answer.html?qid=${qid}&title=${title}&member=${member}&date=${date}&secret=${secret}`;
    }
    document.querySelectorAll('.answer-btn').forEach(btn=>{
      btn.addEventListener('click',e=>toDetail(e.target.closest('tr')));
    });
    function wireRowNav(tbody){
      tbody.querySelectorAll('tr[role="link"]').forEach(tr=>{
        tr.addEventListener('click',()=>toDetail(tr));
        tr.addEventListener('keydown',e=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); toDetail(tr); } });
      });
    }
    wireRowNav(document.getElementById('tbodyNew'));
    wireRowNav(document.getElementById('tbodyDone'));
  </script>
</body>
</html>
